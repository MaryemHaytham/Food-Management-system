"use strict";(self.webpackChunkfoodManagementSystem=self.webpackChunkfoodManagementSystem||[]).push([[859,552],{5552:(Z,u,i)=>{i.d(u,{H:()=>e});var d=i(5879),g=i(9862);let e=(()=>{class l{constructor(s){this._HttpClient=s}getAllCategories(s,p,m){return this._HttpClient.get("category",{params:{pageSize:s,pageNumber:p,name:m}})}onAddCategory(s){return this._HttpClient.post("Category",{name:s})}onEditCategory(s,p){return this._HttpClient.put("Category/{id}",{name:s})}onDeleteCategory(s){return this._HttpClient.delete(`Category/${s}`)}static#e=this.\u0275fac=function(p){return new(p||l)(d.LFG(g.eN))};static#t=this.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},9859:(Z,u,i)=>{i.r(u),i.d(u,{AdminModule:()=>N});var d=i(6814),g=i(7700),e=i(5879),l=i(6223),y=i(2296);let s=(()=>{class n{constructor(t,o){this.dialogRef=t,this.data=o,this.name=""}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(g.so),e.Y36(g.WI))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-edit-category"]],decls:13,vars:2,consts:[["mat-dialog-title",""],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-layer-group"],["type","text","placeholder","Enter Category Name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between"],["mat-button","",1,"btn","bg-danger","text-white",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","bg-main","text-white",3,"mat-dialog-close"]],template:function(o,a){1&o&&(e.TgZ(0,"section")(1,"h2",0),e._uU(2,"Add Category"),e.qZA(),e.TgZ(3,"mat-dialog-content")(4,"div",1)(5,"span",2),e._UZ(6,"i",3),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(c){return a.data=c}),e.qZA()()(),e.TgZ(8,"mat-dialog-actions",5)(9,"button",6),e.NdJ("click",function(){return a.onNoClick()}),e._uU(10,"Close"),e.qZA(),e.TgZ(11,"button",7),e._uU(12,"Save"),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("ngModel",a.data),e.xp6(4),e.Q6J("mat-dialog-close",a.data))},dependencies:[l.Fj,l.JJ,l.On,y.lW,g.ZT,g.uh,g.xY,g.H8]})}return n})();var p=i(5061),m=i(5552),T=i(2425),A=i(3365),h=i(6311),b=i(617);function v(n,f){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td")(10,"button",18)(11,"mat-icon",19),e._uU(12,"more_horiz"),e.qZA()(),e.TgZ(13,"mat-menu",null,20)(15,"button",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.openEditCategoryDialog(r))}),e.TgZ(16,"mat-icon",19),e._uU(17,"edit_square"),e.qZA(),e.TgZ(18,"span"),e._uU(19,"Edit"),e.qZA()(),e.TgZ(20,"button",21),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.openDeleteCategoryDialog(r))}),e.TgZ(21,"mat-icon",19),e._uU(22,"delete"),e.qZA(),e.TgZ(23,"span"),e._uU(24,"Delete"),e.qZA()()()()()}if(2&n){const t=f.$implicit,o=e.MAs(14);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.lcZ(5,4,t.creationDate)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.modificationDate)),e.xp6(3),e.Q6J("matMenuTriggerFor",o)}}function _(n,f){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"table",15)(2,"thead")(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Creation Date"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Modification Date"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Actions"),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,v,25,8,"tr",16),e.qZA()(),e.TgZ(13,"mat-paginator",17),e.NdJ("page",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.handlePageEvent(a))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(12),e.Q6J("ngForOf",t.tableData),e.xp6(1),e.Q6J("length",null==t.tableResponse?null:t.tableResponse.totalNumberOfRecords)("pageSize",null==t.tableResponse?null:t.tableResponse.pageSize)("pageSizeOptions",t.pageSizeOptions)("pageIndex",null==t.tableResponse?null:t.tableResponse.pageNumber)}}function x(n,f){1&n&&(e.TgZ(0,"div")(1,"div",22),e._UZ(2,"img",23),e.TgZ(3,"h5"),e._uU(4,"Not Found"),e.qZA()()())}let U=(()=>{class n{constructor(t,o,a){this.dialog=t,this._CategoryService=o,this._ToastrService=a,this.searchKey="",this.length=50,this.pageSize=5,this.pageIndex=1,this.pageSizeOptions=[5,10,25],this.tableData=[]}ngOnInit(){this.getCategories()}searchByName(){}getCategories(){this._CategoryService.getAllCategories(this.pageSize,this.pageIndex,this.searchKey).subscribe({next:t=>{console.log(t.pageSize),this.tableResponse=t,this.tableData=t.data}})}handlePageEvent(t){this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.getCategories()}openAddCategoryDialog(){this.dialog.open(s,{}).afterClosed().subscribe(o=>{console.log("The dialog was closed"),console.log(o),o&&this.addCategory(o)})}openEditCategoryDialog(t){console.log(t),this.dialog.open(s,{data:t.name}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.editCategory(a,t.id)})}openDeleteCategoryDialog(t){console.log(t),this.dialog.open(p.T,{data:t}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.deleteCategory(a)})}addCategory(t){this._CategoryService.onAddCategory(t).subscribe({next:o=>{console.log(o)},error:()=>{},complete:()=>{this._ToastrService.success("Added Successfuly"),this.getCategories()}})}editCategory(t,o){this._CategoryService.onEditCategory(t,o).subscribe({next:a=>{console.log(a)},error:a=>{console.log(a)},complete:()=>{this.getCategories(),this._ToastrService.success("Updated Successfuly")}})}deleteCategory(t){this._CategoryService.onDeleteCategory(t).subscribe({next:o=>{console.log(o)},error:()=>{},complete:()=>{this.getCategories(),this._ToastrService.info("Deleted Successfuly")}})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(g.uw),e.Y36(m.H),e.Y36(T._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-categories"]],decls:27,vars:3,consts:[["id","category"],[1,"header-page","container"],[1,"row","align-items-center"],[1,"col-8","text-white"],[1,"mb-0"],[1,"col-4","text-end"],["src","../../../../assets/images/profile 1.svg","alt",""],[1,"mt-3","d-flex","align-items-center","justify-content-between"],[1,"w-75"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-magnifying-glass"],["type","text","name","email","placeholder","Search by Name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"bg-main","btn","text-white",3,"click"],[4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["color","primary"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-center"],["src","../../../../assets/images/delete-img.svg","alt",""]],template:function(o,a){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Categories "),e.TgZ(6,"span"),e._uU(7,"item"),e.qZA()(),e.TgZ(8,"p",4),e._uU(9,"You can now add your items that any user can order it from the Application and you can edit."),e.qZA()(),e.TgZ(10,"div",5),e._UZ(11,"img",6),e.qZA()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"h6"),e._uU(15,"Categories Table Details"),e.qZA(),e.TgZ(16,"p"),e._uU(17,"You can check all details"),e.qZA(),e.TgZ(18,"div",9)(19,"span",10),e._UZ(20,"i",11),e.qZA(),e.TgZ(21,"input",12),e.NdJ("ngModelChange",function(c){return a.searchKey=c})("keyup.enter",function(){return a.getCategories()}),e.qZA()()(),e.TgZ(22,"div")(23,"button",13),e.NdJ("click",function(){return a.openAddCategoryDialog()}),e._uU(24,"Add New Category"),e.qZA()()(),e.YNc(25,_,14,5,"div",14),e.YNc(26,x,5,0,"div",14),e.qZA()),2&o&&(e.xp6(21),e.Q6J("ngModel",a.searchKey),e.xp6(4),e.Q6J("ngIf",a.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==a.tableData.length))},dependencies:[d.sg,d.O5,l.Fj,l.JJ,l.On,A.NW,y.RK,h.VK,h.OP,h.p6,b.Hw,d.uU]})}return n})();var C=i(1896);const S=[{path:"",component:(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin"]],decls:1,vars:0,template:function(o,a){1&o&&e._UZ(0,"router-outlet")},dependencies:[C.lC]})}return n})(),children:[{path:"recipes",loadChildren:()=>i.e(952).then(i.bind(i,952)).then(n=>n.RecipesModule)},{path:"users",loadChildren:()=>i.e(592).then(i.bind(i,8588)).then(n=>n.UsersModule)},{path:"category",component:U}]}];let M=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(S),C.Bz]})}return n})();var D=i(3358);let N=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.ez,M,D.m]})}return n})()}}]);