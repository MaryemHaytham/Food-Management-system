"use strict";(self.webpackChunkfoodManagementSystem=self.webpackChunkfoodManagementSystem||[]).push([[2,552,638,293],{5552:(h,m,o)=>{o.d(m,{H:()=>r});var c=o(5879),u=o(9862);let r=(()=>{class e{constructor(s){this._HttpClient=s}getAllCategories(s,g,_){return this._HttpClient.get("category",{params:{pageSize:s,pageNumber:g,name:_}})}onAddCategory(s){return this._HttpClient.post("Category",{name:s})}onEditCategory(s,g){return this._HttpClient.put("Category/{id}",{name:s})}onDeleteCategory(s){return this._HttpClient.delete(`Category/${s}`)}static#e=this.\u0275fac=function(g){return new(g||e)(c.LFG(u.eN))};static#t=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},1739:(h,m,o)=>{o.d(m,{W:()=>r});var c=o(5879),u=o(9862);let r=(()=>{class e{constructor(s){this._HttpClient=s}getTags(){return this._HttpClient.get("tag")}static#e=this.\u0275fac=function(g){return new(g||e)(c.LFG(u.eN))};static#t=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},9002:(h,m,o)=>{o.r(m),o.d(m,{RecipesModule:()=>b});var c=o(6814),u=o(1896),r=o(7700),e=o(5879);let v=(()=>{class i{constructor(t,n){this.dialogRef=t,this.data=n,this.imagePath="https://upskilling-egypt.com/",this.dummyImage="../../../../assets/images/recipes.jpg"}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(r.so),e.Y36(r.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipe-detail"]],decls:15,vars:4,consts:[[1,"container","py-3"],[1,"text-end","d-block","myPointer",3,"click"],[1,"fa-regular","fa-2x","fa-circle-xmark","text-danger"],[1,"text-center"],["alt","",1,"w-25",3,"src"],[1,"text-end"],[1,"btn","outline-main",3,"mat-dialog-close"],[1,"me-2"],[1,"fa-solid","fa-heart"]],template:function(n,a){1&n&&(e.TgZ(0,"section",0)(1,"a",1),e.NdJ("click",function(){return a.onNoClick()}),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3),e._UZ(4,"img",4),e.TgZ(5,"h3"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA(),e._UZ(9,"hr"),e.qZA(),e.TgZ(10,"div",5)(11,"button",6)(12,"span",7),e._UZ(13,"i",8),e.qZA(),e._uU(14,"Favorite"),e.qZA()()()),2&n&&(e.xp6(4),e.Q6J("src",a.data.imagePath?a.imagePath+a.data.imagePath:a.dummyImage,e.LSH),e.xp6(2),e.Oqu(a.data.name?a.data.name:"Recipe"),e.xp6(2),e.Oqu(a.data.description?a.data.description:"No Description"),e.xp6(3),e.Q6J("mat-dialog-close",a.data.id))},dependencies:[r.ZT]})}return i})();var s=o(7638),g=o(3141),_=o(2425),T=o(1739),C=o(5552),f=o(9157),A=o(8525),y=o(3680),Z=o(6223),R=o(3365);function U(i,p){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function x(i,p){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function I(i,p){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=p.$implicit;e.xp6(1),e.hij("",t.name," , ")}}function O(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",24),e._UZ(4,"img",25),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e.YNc(18,I,2,1,"span",22),e.qZA(),e.TgZ(19,"td")(20,"a",26),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.openRecipeDetailes(l))}),e._UZ(21,"i",27),e.qZA()()()}if(2&i){const t=p.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("src",t.imagePath?n.imagePath+t.imagePath:n.dummyImage,e.LSH),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.price),e.xp6(2),e.Oqu(e.lcZ(11,8,t.creationDate)),e.xp6(3),e.Oqu(e.lcZ(14,10,t.modificationDate)),e.xp6(3),e.Oqu(t.tag.name),e.xp6(2),e.Q6J("ngForOf",t.category)}}function q(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",21)(2,"thead")(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"image"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Description"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Price"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Creation Date"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Modification Date"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Tag"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Category"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Action"),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,O,22,12,"tr",22),e.qZA()(),e.TgZ(23,"mat-paginator",23),e.NdJ("page",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.handlePageEvent(a))}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",t.tableData),e.xp6(1),e.Q6J("length",null==t.tableResponse?null:t.tableResponse.totalNumberOfRecords)("pageSize",null==t.tableResponse?null:t.tableResponse.pageSize)("pageSizeOptions",t.pageSizeOptions)("pageIndex",null==t.tableResponse?null:t.tableResponse.pageNumber)}}function F(i,p){1&i&&(e.TgZ(0,"div")(1,"div",28),e._UZ(2,"img",29),e.TgZ(3,"h5"),e._uU(4,"Not Found"),e.qZA()()())}const M=[{path:"",component:(()=>{class i{constructor(t,n,a,l,d,N){this._UserFavoritesService=t,this.dialog=n,this._RecipesService=a,this._ToastrService=l,this._HelperService=d,this._CategoryService=N,this.tagId=0,this.categoryId=0,this.imagePath="https://upskilling-egypt.com/",this.dummyImage="../../../../assets/images/recipes.jpg",this.searchKey="",this.tableData=[],this.tags=[],this.categories=[],this.length=50,this.pageSize=5,this.pageIndex=1,this.pageSizeOptions=[5,10,25]}ngOnInit(){this.getRecipes(),this.getAllTags(),this.getAllcategories()}handlePageEvent(t){this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.getRecipes()}getRecipes(){this._RecipesService.getAllRecipes({pageSize:this.pageSize,pageNumber:this.pageIndex,name:this.searchKey,tagId:this.tagId>0?this.tagId:0,categoryId:this.categoryId}).subscribe({next:n=>{console.log(n.pageSize),this.tableResponse=n,this.tableData=n.data}})}getAllTags(){this._HelperService.getTags().subscribe({next:t=>{console.log(t),this.tags=t}})}getAllcategories(){this._CategoryService.getAllCategories(1e3,1,"").subscribe({next:t=>{console.log(t),this.categories=t.data}})}addtoFav(t){this._UserFavoritesService.onAddToFavorites(t).subscribe({next:n=>{console.log(n)},error:n=>{console.log(n)},complete:()=>{this._ToastrService.success("Added To Favorite Successfuly")}})}openRecipeDetailes(t){this.dialog.open(v,{data:t}).afterClosed().subscribe(a=>{console.log("The dialog was closed"),console.log(a),a&&this.addtoFav(a)})}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(s.q),e.Y36(r.uw),e.Y36(g.c),e.Y36(_._W),e.Y36(T.W),e.Y36(C.H))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-recipes"]],decls:42,vars:7,consts:[["id","recipes"],[1,"header-page","container"],[1,"row","align-items-center"],[1,"col-8","text-white"],[1,"mb-0"],[1,"col-4","text-end"],["src","../../../../assets/images/profile 1.svg","alt",""],[1,"row","mt-3"],[1,"col-9"],[1,"mt-3","row","align-items-center","justify-content-between"],[1,"col-6","d-flex"],[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-magnifying-glass"],["type","text","name","email","placeholder","Search by Name","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-3"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"w-25"],["alt","",1,"w-25",3,"src"],[1,"myPointer","text-main",3,"click"],[1,"fa-solid","fa-eye"],[1,"text-center"],["src","../../../../assets/images/delete-img.svg","alt",""]],template:function(n,a){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5,"Recipes "),e.TgZ(6,"span"),e._uU(7,"item"),e.qZA()(),e.TgZ(8,"p",4),e._uU(9,"You can now add your items that any user can order it from the Application and you can edit."),e.qZA()(),e.TgZ(10,"div",5),e._UZ(11,"img",6),e.qZA()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"h6"),e._uU(15,"Recipes Table Details"),e.qZA(),e.TgZ(16,"p"),e._uU(17,"You can check all details"),e.qZA()()(),e.TgZ(18,"div",9)(19,"div",10)(20,"div",11)(21,"span",12),e._UZ(22,"i",13),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(d){return a.searchKey=d})("keyup.enter",function(){return a.getRecipes()}),e.qZA()()(),e.TgZ(24,"div",15)(25,"mat-form-field",16)(26,"mat-label"),e._uU(27,"Tags"),e.qZA(),e.TgZ(28,"mat-select",17),e.NdJ("ngModelChange",function(d){return a.tagId=d})("selectionChange",function(){return a.getRecipes()}),e.TgZ(29,"mat-option"),e._uU(30,"All"),e.qZA(),e.YNc(31,U,2,2,"mat-option",18),e.qZA()()(),e.TgZ(32,"div",15)(33,"mat-form-field",16)(34,"mat-label"),e._uU(35,"Categories"),e.qZA(),e.TgZ(36,"mat-select",17),e.NdJ("ngModelChange",function(d){return a.categoryId=d})("selectionChange",function(){return a.getRecipes()}),e.TgZ(37,"mat-option"),e._uU(38,"All"),e.qZA(),e.YNc(39,x,2,2,"mat-option",18),e.qZA()()()(),e.YNc(40,q,24,5,"div",19),e.YNc(41,F,5,0,"div",19),e.qZA()),2&n&&(e.xp6(23),e.Q6J("ngModel",a.searchKey),e.xp6(5),e.Q6J("ngModel",a.tagId),e.xp6(3),e.Q6J("ngForOf",a.tags),e.xp6(5),e.Q6J("ngModel",a.categoryId),e.xp6(3),e.Q6J("ngForOf",a.categories),e.xp6(1),e.Q6J("ngIf",a.tableData.length>0),e.xp6(1),e.Q6J("ngIf",0==a.tableData.length))},dependencies:[c.sg,c.O5,f.KE,f.hX,A.gD,y.ey,Z.Fj,Z.JJ,Z.On,R.NW,c.uU]})}return i})()}];let S=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(M),u.Bz]})}return i})();var D=o(3358);let b=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[c.ez,S,D.m]})}return i})()},7638:(h,m,o)=>{o.d(m,{q:()=>r});var c=o(5879),u=o(9862);let r=(()=>{class e{constructor(s){this._HttpClient=s}getAllFavorites(){return this._HttpClient.get("userRecipe")}onAddToFavorites(s){return this._HttpClient.post("userRecipe",{recipeId:s})}deleteFavorite(s){return this._HttpClient.delete(`userRecipe/${s}`)}static#e=this.\u0275fac=function(g){return new(g||e)(c.LFG(u.eN))};static#t=this.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);